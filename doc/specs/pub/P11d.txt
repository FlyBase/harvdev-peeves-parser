## ! P11d. DOI                             :

### Multiple values allowed:

No.

### !c Applicable:

Yes if P22 contains valid FBrf,  
No otherwise.

### Inclusion of field essential for proforma checks:

No.

### Field mandatorially has value:

No.

### Dupl. for multiple field:

No (Implemented)


### Allowed values:  
  
10.1016/j.gene.2005.11.020

### Checks:

If a value is given, it must consist of a syntactically correct Digital Object Identifier (DOI) (see http://www.doi.org/handbook_2000/appendix_1.html#A1-4)  as defined by 'The International DOI Foundation' (http://www.doi.org/).

If !c is used:

* P22 must contain a valid value and
* the value given in P11d must be different from the value
stored in Chado for the publication specified by the value given in
P22.

If !c is not used:

* if P22 contains a valid FBrf, either:
    * the value given in P11d must be identical to the value
stored in Chado for the publication specified by the FBrf given in
P22 or
    * P11d must contain a valid value and no value is stored in
Chado for the publication specified by the FBrf given in P22;
* if P22 does not contain a valid FBrf, either:
    * P11d must be empty or
    * P11d must a contain valid value.
* if P22 is 'unattributed':  
    * P11d must remain blank.  

The following is implemented as a check after the whole proforma has been parsed:

- if it is a new publication and the publication type is a 'regular' publication (so *not* one of the 'not_regular_pub' types stored in symtab.pl) but isn't a 'supplementary material', P11d must be filled in.


### Error messages:  
  
If P22 is 'unattributed':  
P11d: Cannot contain data when P22 is 'unattributed'.  
  
If pling-c and P22 is 'new':  
P11d: : can't change the DOI of a new publication!  
  
If no DOI and pling-c:  
P11d: Not allowed to delete the DOI.  
  
If P11d data is empty and so are the other P11 fields:  
None of P11a through P11d have any data.  

### Related fields:

P11a
P11b
P11c

### Comments:

Do not include the 'doi:' prefix here.  e.g. not 'doi:10.1016/j.gene.2005.11.020'.  
  
A check involving P11a/b/c/d is performed (see Error messages).  
  

### Updated:

gm131204 (removed markdown formatting).
gm151001 (added Dupl. for multiple field info).
gm170127 (added info on check done after parsing whole proforma)
